This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
eslint.config.js
index.html
package.json
public/vite.svg
README.md
src/actions/authActions.js
src/App.jsx
src/assets/react.svg
src/assets/testjson/output.json
src/components/Dashboard/Dashboard.jsx
src/components/Dashboard/listItems.jsx
src/components/Dashboard/Title.jsx
src/components/Dataset/AllDatasets.jsx
src/components/Dataset/BackendDatasets.jsx
src/components/Dataset/DatasetDetails.jsx
src/components/Dataset/Datasets.jsx
src/components/Dataset/SingleDataset.jsx
src/components/Footer.jsx
src/components/Home.jsx
src/components/Login.jsx
src/components/LogOutButton.jsx
src/components/Patient/AllPatients.jsx
src/components/Patient/BackendPatients.jsx
src/components/Patient/Patients.jsx
src/components/Project/AllProjects.jsx
src/components/Project/BackendProjects.jsx
src/components/Project/Projects.jsx
src/components/Project/SimpleBackend.jsx
src/components/ProjectSummary.jsx
src/components/ProtectedRoute.jsx
src/components/Upload.jsx
src/main.jsx
src/pages/DashboardPage.jsx
src/pages/DatasetPage/AllDatasetsPage.jsx
src/pages/DatasetPage/DatasetDetailsPage.jsx
src/pages/DatasetPage/SingleDatasetPage.jsx
src/pages/HomePage.jsx
src/pages/LoginPage.jsx
src/pages/PatientPage/AllPatientsPage.jsx
src/pages/PatientPage/SinglePatientPage.jsx
src/pages/ProjectPage/AllProjectsPage.jsx
src/pages/ProjectPage/SingleProjectPage.jsx
src/pages/ProjectSumaryPage.jsx
src/pages/UploadPage.jsx
src/pages/Visualization.jsx
src/reducers/authReducers.js
src/store.js
vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import react from 'eslint-plugin-react'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'

export default [
  { ignores: ['dist'] },
  {
    files: ['**/*.{js,jsx}'],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    settings: { react: { version: '18.3' } },
    plugins: {
      react,
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
    },
    rules: {
      ...js.configs.recommended.rules,
      ...react.configs.recommended.rules,
      ...react.configs['jsx-runtime'].rules,
      ...reactHooks.configs.recommended.rules,
      'react/jsx-no-target-blank': 'off',
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
    },
  },
]
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/unimelb-square-logo.jpg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Commons</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="src/actions/authActions.js">
export const login = () => {
    localStorage.setItem('isLoggedIn', 'true');
    return {
        type: 'LOGIN',
    };
};

export const logout = () => {
    localStorage.removeItem('isLoggedIn');
    return {
        type: 'LOGOUT',
    };
};
</file>

<file path="src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/assets/testjson/output.json">
{
  "data": {
    "location": "/vast/projects/TDE/TDE0005/",
    "file_size_unit": "KB",
    "files": {
      "raw": [
        {
          "file_name": "batch1_test_LC_Sample1.fastq",
          "file_size": 15,
          "patient_id": "ICGC_0425",
          "sample_id": "LC_Sample1",
          "directory": "./raw_data/batch1_test_LC_Sample1.fastq"
        },
        {
          "file_name": "batch1_test_LC_Sample2.fastq",
          "file_size": 17,
          "patient_id": "ICGC_0428",
          "sample_id": "LC_Sample2",
          "directory": "./raw_data/batch1_test_LC_Sample2.fastq"
        },
        {
          "file_name": "batch1_test_LC_Sample3.fastq",
          "file_size": 14,
          "patient_id": "ICGC_0432",
          "sample_id": "LC_Sample3",
          "directory": "./raw_data/batch1_test_LC_Sample3.fastq"
        },
        {
          "file_name": "batch2_test_LC_Sample4.fastq",
          "file_size": 21,
          "patient_id": "ICGC_0433",
          "sample_id": "LC_Sample4",
          "directory": "./raw_data/batch1_test_LC_Sample4.fastq"
        },
        {
          "file_name": "batch2_test_LC_Sample5.fastq",
          "file_size": 20,
          "patient_id": "ICGC_0440",
          "sample_id": "LC_Sample5",
          "directory": "./raw_data/batch1_test_LC_Sample5.fastq"
        }
      ],
      "processed": [],
      "summarised": []
    }
  }
}
</file>

<file path="src/components/Dashboard/Dashboard.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Badge from '@mui/material/Badge';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from './listItems';
import Projects from '../Project/Projects';
import Datasets from '../Dataset/Datasets';
import Patients from '../Patient/Patients';
import Footer from '../Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();


export default function Dashboard() {
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              Dashboard - Data Commons
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              {/* Recent Projects */}
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <Projects />
                </Paper>
              </Grid>
              {/* Recent Datasets */}
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <Datasets />
                </Paper>
              </Grid>
              {/* Patients */}
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <Patients />
                </Paper>
              </Grid>
            </Grid>
            <Footer />
          </Container>
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Dashboard/listItems.jsx">
import * as React from 'react';
import ListItemButton from '@mui/material/ListItemButton';
import ListItemIcon from '@mui/material/ListItemIcon';
import ListItemText from '@mui/material/ListItemText';
import ListSubheader from '@mui/material/ListSubheader';
import DashboardIcon from '@mui/icons-material/Dashboard';
import DatasetLinkedIcon from '@mui/icons-material/DatasetLinked';
import PeopleIcon from '@mui/icons-material/People';
import BarChartIcon from '@mui/icons-material/BarChart';
import LayersIcon from '@mui/icons-material/Layers';
import AssignmentIcon from '@mui/icons-material/Assignment';
import QueryStatsIcon from '@mui/icons-material/QueryStats';
import AppsIcon from '@mui/icons-material/Apps';
import FavoriteIcon from '@mui/icons-material/Favorite';
import StarRateIcon from '@mui/icons-material/StarRate';
import BookmarkIcon from '@mui/icons-material/Bookmark';
import { useNavigate } from 'react-router-dom';
import Tooltip from '@mui/material/Tooltip';

export const mainListItems = () => {
  const navigate = useNavigate();

  return (
      <React.Fragment>
          <Tooltip title="Dashboard" placement="right">
              <ListItemButton onClick={() => navigate('/dashboard')}>
                  <ListItemIcon>
                      <DashboardIcon />
                  </ListItemIcon>
                  <ListItemText primary="Dashboard" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Projects" placement="right">
              <ListItemButton onClick={() => navigate('/projects')}>
                  <ListItemIcon>
                      <AppsIcon />
                  </ListItemIcon>
                  <ListItemText primary="Projects" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Datasets" placement="right">
              <ListItemButton onClick={() => navigate('/datasets')}>
                  <ListItemIcon>
                      <DatasetLinkedIcon />
                  </ListItemIcon>
                  <ListItemText primary="Datasets" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Patients" placement="right">
              <ListItemButton onClick={() => navigate('/patients')}>
                  <ListItemIcon>
                      <PeopleIcon />
                  </ListItemIcon>
                  <ListItemText primary="Patients" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Visualizations" placement="right">
              <ListItemButton onClick={() => navigate('/visualizations')}>
                  <ListItemIcon>
                      <QueryStatsIcon />
                  </ListItemIcon>
                  <ListItemText primary="Visualizations" />
              </ListItemButton>
          </Tooltip>
      </React.Fragment>
  );
};

export const secondaryListItems = () => {
  const navigate = useNavigate();

  return (
      <React.Fragment>
          <ListSubheader component="div" inset>
              Saved Projects
          </ListSubheader>
          <Tooltip title="Liked" placement="right">
              <ListItemButton onClick={() => navigate('/liked')}>
                  <ListItemIcon>
                      <FavoriteIcon />
                  </ListItemIcon>
                  <ListItemText primary="Liked" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Starred" placement="right">
              <ListItemButton onClick={() => navigate('/starred')}>
                  <ListItemIcon>
                      <StarRateIcon />
                  </ListItemIcon>
                  <ListItemText primary="Starred" />
              </ListItemButton>
          </Tooltip>
          <Tooltip title="Project 1" placement="right">
              <ListItemButton onClick={() => navigate('/project-1')}>
                  <ListItemIcon>
                      <BookmarkIcon />
                  </ListItemIcon>
                  <ListItemText primary="Project 1" />
              </ListItemButton>
          </Tooltip>
      </React.Fragment>
  );
};
</file>

<file path="src/components/Dashboard/Title.jsx">
import * as React from 'react';
import PropTypes from 'prop-types';
import Typography from '@mui/material/Typography';

function Title(props) {
  return (
    <Typography component="h2" variant="h6" color="primary" gutterBottom>
      {props.children}
    </Typography>
  );
}

Title.propTypes = {
  children: PropTypes.node,
};

export default Title;
</file>

<file path="src/components/Dataset/AllDatasets.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../../components/Dashboard/Title';
import { useState } from 'react';
import TablePagination from '@mui/material/TablePagination';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'

// Generate Order Data, this will be replaced with data from the backend
function createData(id, dId, date, name, source) {
    return { id, dId, date, name, source};
}

const rows = [
    createData(5, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(2, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(10, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(1, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(12, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(7, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(14, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(0, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(9, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(11, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(6, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(3, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
    createData(4, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(8, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
    createData(13, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
  ];
  
  function preventDefault(event) {
    event.preventDefault();
  }

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();

export default function AllDatasets() {
    
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };
  
  const handleViewDetails = (dId) => {
    navigate(`/dataset/${dId}`); // Navigates to the project page with the dId
  };

  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              All Datasets
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                    <React.Fragment>
                        <Title>Datasets</Title>
                        <Table size="large">
                        <TableHead>
                            <TableRow>
                            <TableCell>Dataset ID</TableCell>
                            <TableCell>Date Uploaded</TableCell>
                            <TableCell>Name</TableCell>
                            <TableCell>Source</TableCell>
                            <TableCell align="right">View Files</TableCell>
                            </TableRow>
                        </TableHead>
                        <TableBody>
                            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (
                            <TableRow key={row.id}>
                                <TableCell>{row.dId}</TableCell>
                                <TableCell>{row.date}</TableCell>
                                <TableCell>{row.name}</TableCell>
                                <TableCell>{row.source}</TableCell>
                                <TableCell align="right">
                                <Button
                                    variant="contained"
                                    color="primary"
                                    size="small"
                                    onClick={() => handleViewDetails(row.dId)}
                                    sx={{ textTransform: 'none',
                                    padding: '5px 10px', // Increase padding for a bigger button
                                    fontSize: '10px', // Increase font size
                                }}
                                >
                                    View Files
                                </Button>
                                </TableCell>
                            </TableRow>
                            ))}
                        </TableBody>
                        </Table>
                        <TablePagination
                            rowsPerPageOptions={[5, 10, 25]}
                            component="div"
                            count={rows.length}
                            rowsPerPage={rowsPerPage}
                            page={page}
                            onPageChange={handleChangePage}
                            onRowsPerPageChange={handleChangeRowsPerPage}
                        />
                    </React.Fragment>
                </Paper>
              </Grid>
            </Grid>
            <Footer />
          </Container>
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Footer.jsx">
import * as React from 'react';
import Box from '@mui/material/Box';
import Button from '@mui/material/Button';
import Container from '@mui/material/Container';
import IconButton from '@mui/material/IconButton';
import Link from '@mui/material/Link';
import Stack from '@mui/material/Stack';
import TextField from '@mui/material/TextField';
import Typography from '@mui/material/Typography';

import FacebookIcon from '@mui/icons-material/GitHub';
import LinkedInIcon from '@mui/icons-material/LinkedIn';
import TwitterIcon from '@mui/icons-material/X';

const logoStyle = {
  width: '140px',
  height: 'auto',
};

function Copyright() {
  return (
    <Typography variant="body2" color="text.secondary" mt={1}>
      {'Copyright © '}
      <Link href="https://www.unimelb.edu.au/">WEHI Data Commons x University of Melbourne&nbsp;</Link>
      {new Date().getFullYear()}
    </Typography>
  );
}

export default function Footer() {
  return (
    <Container
      sx={{
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        py: { xs: 8},
        textAlign: { sm: 'center', md: 'left' },
      }}
    >
      <Box
        sx={{
          display: 'flex',
          flexDirection: { xs: 'column', sm: 'row' },
          width: '100%',
          justifyContent: 'space-between',
        }}
      >
        <Box
          sx={{
            display: 'flex',
            flexDirection: 'column',
            gap: 4,
            minWidth: { xs: '100%', sm: '60%' },
          }}
        >
        </Box>
      </Box>
      <Box
        sx={{
          display: 'flex',
          justifyContent: 'space-between',
          pt: { xs: 4, sm: 8 },
          width: '100%',
          borderTop: '1px solid',
          borderColor: 'divider',
        }}
      >
        <div>
          <Link color="text.secondary" href="#">
            Privacy Policy
          </Link>
          <Typography display="inline" sx={{ mx: 0.5, opacity: 0.5 }}>
            &nbsp;•&nbsp;
          </Typography>
          <Link color="text.secondary" href="#">
            Terms of Service
          </Link>
          <Copyright />
        </div>
        <Stack
          direction="row"
          justifyContent="left"
          spacing={1}
          useFlexGap
          sx={{
            color: 'text.secondary',
          }}
        >
          <IconButton
            color="inherit"
            href="https://github.com/HxLu03"
            aria-label="GitHub"
            sx={{ alignSelf: 'center' }}
          >
            <FacebookIcon />
          </IconButton>
          
          <IconButton
            color="inherit"
            href="https://www.linkedin.com/in/haoxuanlu/"
            aria-label="LinkedIn"
            sx={{ alignSelf: 'center' }}
          >
            <LinkedInIcon />
          </IconButton>
        </Stack>
      </Box>
    </Container>
  );
}
</file>

<file path="src/components/Home.jsx">
export default function Home() { 
    return (
        <h1>This is HomePage</h1>
    );
     
}
</file>

<file path="src/components/Login.jsx">
import * as React from 'react';
import Avatar from '@mui/material/Avatar';
import Button from '@mui/material/Button';
import CssBaseline from '@mui/material/CssBaseline';
import TextField from '@mui/material/TextField';
import FormControlLabel from '@mui/material/FormControlLabel';
import Checkbox from '@mui/material/Checkbox';
import Link from '@mui/material/Link';
import Grid from '@mui/material/Grid';
import Box from '@mui/material/Box';
import Typography from '@mui/material/Typography';
import Container from '@mui/material/Container';
import { createTheme, ThemeProvider } from '@mui/material/styles';
import WehiLogo from '../assets/logos/wehi-logo.png';
import MelbUniLogo from '../assets/logos/unimelb-logo.png';
import BusinessIcon from '@mui/icons-material/Business';
import Footer from './Footer';
import { useNavigate } from 'react-router-dom';
import { useDispatch } from 'react-redux';  // Import useDispatch hook
import { login } from '../actions/authActions';  // Import login action

const defaultTheme = createTheme();

export default function SignIn() {

  const navigate = useNavigate();
  const dispatch = useDispatch();  // Initialize dispatch function

  const handleSubmit = (event) => {
    event.preventDefault();
    
    // Get the form data
    const data = new FormData(event.currentTarget);
    const email = data.get('email');
    const password = data.get('password');

    // Replace this with actual authentication logic
    const isAuthenticated = email === '' && password === '';

    if (isAuthenticated) {
      dispatch(login());  // Dispatch login action
      navigate('/dashboard');  // Redirect to the dashboard
    } else {
      alert('Invalid credentials');
    }
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Container component="main" maxWidth="xs">
        <CssBaseline />
        <Box
          sx={{
            marginTop: 8,
            display: 'flex',
            flexDirection: 'column',
            alignItems: 'center',
          }}
        >
          <div style={{ display: 'flex', alignItems: 'center' }}>
            <img src={WehiLogo} alt="WEHI" width="240" height="80" style={{ marginRight: '20px' }} />
            <div style={{ borderLeft: '2px solid grey', height: '100px', marginRight: '15px' }}></div>
            <img src={MelbUniLogo} alt="Melbourne University" width="90" height="90" />
          </div> 
          <br />
          <Typography component="h1" variant="h5">
            Sign in
          </Typography>
          <Box component="form" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>
            <TextField
              margin="normal"
              required
              fullWidth
              id="email"
              label="Email Address"
              name="email"
              autoComplete="email"
              autoFocus
            />
            <TextField
              margin="normal"
              required
              fullWidth
              name="password"
              label="Password"
              type="password"
              id="password"
              autoComplete="current-password"
            />
            <FormControlLabel
              control={<Checkbox value="remember" color="primary" />}
              label="Remember me"
            />
            <Button
              type="submit"
              fullWidth
              variant="contained"
              sx={{ mt: 3, mb: 2 }}
            >
              Sign In
            </Button>
            <Button
              type="submit"
              fullWidth
              variant="contained"
              sx={{ mt: 1, mb: 2 }}
            >
              <BusinessIcon sx={{mr: 1 }}/>
              Sign In Through Your Institution
            </Button>
            <Grid container>
              <Grid item xs>
                <Link href="#" variant="body2">
                  Forgot password?
                </Link>
              </Grid>
              <Grid item>
                <Link href="https://www.wehi.edu.au/" variant="body2">
                  {"About Us"}
                </Link>
              </Grid>
            </Grid>
          </Box>
        </Box>    
        <Footer />
      </Container>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/LogOutButton.jsx">
import React from 'react';
import { useDispatch } from 'react-redux';
import { useNavigate } from 'react-router-dom';
import { logout } from '../actions/authActions';

const LogoutButton = () => {
  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  return (
    <button onClick={handleLogout}>
      Log Out
    </button>
  );
};

export default LogoutButton;
</file>

<file path="src/components/Patient/AllPatients.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../../components/Dashboard/Title';
import { useState } from 'react';
import TablePagination from '@mui/material/TablePagination';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'


// Generate Order Data, this will be replaced with data from the backend
function createData(id, eId, source, numSamples) {
  return { id, eId, source, numSamples};
}

const rows = [
  createData(
    0,
    'UOM_520',
    'University of Melbourne',
    1,
  ),
  createData(
    1,
    'UOM_123',
    'University of Melbourne',
    2,
    
  ),
  createData(
    2,
    'CBP-369', 
    'cBioPortal',
    3,
    ),
  createData(
    3,
    'WH_211',
    'WEHI',
    2,
  ),
  createData(
    4,
    'USYD985',
    'USYD',
    1,
  ),
];
  
  function preventDefault(event) {
    event.preventDefault();
  }

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();

export default function AllPatients() {
    
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  
  const handleViewDetails = (eId) => {
    navigate(`/patient/${eId}`); // Navigates to the project page with the dId
  };

  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              All Patients
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                    <React.Fragment>
                        <Title>Patients</Title>
                        <Table size="large">
                        <TableHead>
                            <TableRow>
                            <TableCell align='center'>ID</TableCell>
                            <TableCell align='center'>External ID</TableCell>
                            <TableCell>Source</TableCell>
                            <TableCell align='center'>Number of Samples</TableCell>
                            <TableCell align="right">View Details</TableCell>
                            </TableRow>
                        </TableHead>
                        <TableBody>
                            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (
                            <TableRow key={row.id}>
                                <TableCell align='center'>{row.id}</TableCell>
                                <TableCell align='center'>{row.eId}</TableCell>
                                <TableCell>{row.source}</TableCell>
                                <TableCell align='center'>{row.numSamples}</TableCell>
                                <TableCell align="right">
                                <Button
                                    variant="contained"
                                    color="primary"
                                    size="small"
                                    onClick={() => handleViewDetails(row.eId)}
                                    sx={{ textTransform: 'none',
                                    padding: '5px 10px', // Increase padding for a bigger button
                                    fontSize: '10px', // Increase font size
                                }}
                                >
                                    View Details
                                </Button>
                                </TableCell>
                            </TableRow>
                            ))}
                        </TableBody>
                        </Table>
                        <TablePagination
                            rowsPerPageOptions={[5, 10, 25]}
                            component="div"
                            count={rows.length}
                            rowsPerPage={rowsPerPage}
                            page={page}
                            onPageChange={handleChangePage}
                            onRowsPerPageChange={handleChangeRowsPerPage}
                        />
                    </React.Fragment>
                </Paper>
              </Grid>
            </Grid>
            <Footer />
          </Container>
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Patient/Patients.jsx">
import * as React from 'react';
import Link from '@mui/material/Link';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../Dashboard/Title';
import { useNavigate } from 'react-router-dom';
import { Button } from '@mui/material';

// Generate Order Data
function createData(id, eId, source, numSamples) {
    return { id, eId, source, numSamples};
}

const rows = [
    createData(
      0,
      'UOM_520',
      'University of Melbourne',
      1,
    ),
    createData(
      1,
      'UOM_123',
      'University of Melbourne',
      2,
      
    ),
    createData(
      2,
      'CBP-369', 
      'cBioPortal',
      3,
      ),
    createData(
      3,
      'WH_211',
      'WEHI',
      2,
    ),
    createData(
      4,
      'USYD985',
      'USYD',
      1,
    ),
  ];
  
  function preventDefault(event) {
    event.preventDefault();
  }

export default function Patients() {
    const navigate = useNavigate();
    const handleViewDetails = (id) => {
        navigate(`/patient/${id}`); // Navigates to the project page with the pId
    };
    const handleSeeMore = () => {
      navigate('/patients'); // Replace with the actual route you want to navigate to
    };

    return (
        <React.Fragment>
      <Title>Patients</Title>
      <Table size="small">
        <TableHead>
          <TableRow>
            <TableCell align='center'>ID</TableCell>
            <TableCell align='center'>External ID</TableCell>
            <TableCell>Source</TableCell>
            <TableCell align='center'>Number of Samples</TableCell>
            <TableCell align="right">View Details</TableCell>
          </TableRow>
        </TableHead>
        <TableBody>
          {rows.map((row) => (
            <TableRow key={row.id}>
              <TableCell align='center'>{row.id}</TableCell>
              <TableCell align='center'>{row.eId}</TableCell>
              <TableCell>{row.source}</TableCell>
              <TableCell align='center'>{row.numSamples}</TableCell>
              <TableCell align="right">
              <Button
                  variant="contained"
                  color="primary"
                  size="small"
                  onClick={() => handleViewDetails(row.id)}
                  sx={{ textTransform: 'none',
                    padding: '5px 10px', // Increase padding for a bigger button
                    fontSize: '10px', // Increase font size
                 }}
                >
                  View Details
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
      <Link
        component="button"
        variant="body2"
        onClick={handleSeeMore}
        sx={{ mt: 3 }}
      >
        See more...
      </Link>
    </React.Fragment>
    );
}
</file>

<file path="src/components/Project/Projects.jsx">
import * as React from 'react';
import Link from '@mui/material/Link';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../Dashboard/Title';
import { useNavigate } from 'react-router-dom';
import { Button } from '@mui/material';

// Generate Order Data
function createData(id, pId, date, name, status) {
    return { id, pId, date, name, status};
}

const rows = [
    createData(
      0,
      'BU250',
      '16 Aug, 2024',
      'WOw',
      'Active',
    ),
    createData(
      1,
      'YAO666',
      '26 Jun, 2024',
      'SHIne',
      'Active',
    ),
    createData(
      2,
      'ZUO690', 
      '16 Jun, 2024',
      'GEnius', 
      'Active',
      ),
    createData(
      3,
      'TIAN88',
      '16 May, 2024',
      'SHAke',
      'Active',
    ),
    createData(
      4,
      'GOU468',
      '15 Apr, 2024',
      'BIte',
      'Active',
    ),
  ];
  
  function preventDefault(event) {
    event.preventDefault();
  }

export default function Projects() {
    const navigate = useNavigate();
    const handleViewDetails = (pId) => {
        navigate(`/project/${pId}`); // Navigates to the project page with the pId
    };
    const handleSeeMore = () => {
        navigate('/projects'); // Replace with the actual route you want to navigate to
      };

    return (
        <React.Fragment>
      <Title>Recent Projects</Title>
      <Table size="small">
        <TableHead>
          <TableRow>
            <TableCell>Project ID</TableCell>
            <TableCell>Date Created</TableCell>
            <TableCell>Name</TableCell>
            <TableCell>Status</TableCell>
            <TableCell align="right">View Details</TableCell>
          </TableRow>
        </TableHead>
        <TableBody>
          {rows.map((row) => (
            <TableRow key={row.id}>
              <TableCell>{row.pId}</TableCell>
              <TableCell>{row.date}</TableCell>
              <TableCell>{row.name}</TableCell>
              <TableCell>{row.status}</TableCell>
              <TableCell align="right">
              <Button
                  variant="contained"
                  color="primary"
                  size="small"
                  onClick={() => handleViewDetails(row.pId)}
                  sx={{ textTransform: 'none',
                    padding: '5px 10px', // Increase padding for a bigger button
                    fontSize: '10px', // Increase font size
                 }}
                >
                  View Details
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
      <Link
        component="button"
        variant="body2"
        onClick={handleSeeMore}
        sx={{ mt: 3 }}
      >
        See more...
      </Link>
    </React.Fragment>
    );
}
</file>

<file path="src/components/ProjectSummary.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button, Container, Typography, Grid, Paper, List, ListItem, ListItemText } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import IconButton from '@mui/material/IconButton';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import Footer from './Footer';
import WehiLogo from '../assets/logos/wehi-logo.png';
import MelbUniLogo from '../assets/logos/unimelb-logo.png';
import { mainListItems, secondaryListItems } from '../components/Dashboard/listItems';
import { useDispatch } from 'react-redux';
import { logout } from '../actions/authActions';

const drawerWidth = 240;
const AppBar = styled(MuiAppBar, { shouldForwardProp: (prop) => prop !== 'open' })(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D',
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(({ theme, open }) => ({
  '& .MuiDrawer-paper': {
    position: 'relative',
    whiteSpace: 'nowrap',
    width: drawerWidth,
    transition: theme.transitions.create('width', {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
    boxSizing: 'border-box',
    ...(!open && {
      overflowX: 'hidden',
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.leavingScreen,
      }),
      width: theme.spacing(7.5),
    }),
  },
}));

const defaultTheme = createTheme();
const projectData = {
  "project_id": "12345",
  "project_summary": {
    "description": "This project focuses on analyzing patient and sample data across multiple organizations, including WEHI and Royal Melbourne Hospital. The data spans various conditions and data types, offering insights into disease mechanisms and treatment outcomes.",
    "total_patients": 60,
    "total_samples": 108,
    "storage": {
      "total_size": "45TB",
      "wehi_data": "30TB",
      "royal_melbourne_hospital_data": "15TB"
    },
    "breakdown": {
      "patients": {
        "squamous_cell_carcinoma": 53,
        "adenocarcinoma": 7
      },
      "physical_samples": {
        "squamous_cell_carcinoma": 98,
        "adenocarcinoma": 10
      },
      "data_types": {
        "wes_t_n": 18,
        "scrnaseq": 10,
        "microbiome": 9,
        "cfdna": 0,
        "redcap_profiles_complete": 3
      }
    }
  }
};

export default function ProjectSummary() {
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => setOpen(!open);
  const navigate = useNavigate();
  const dispatch = useDispatch();

  const handleLogout = () => {
    dispatch(logout());
    navigate('/login');
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar>
            <IconButton edge="start" color="inherit" onClick={toggleDrawer} sx={{ marginRight: '36px', ...(open && { display: 'none' }) }}>
              <MenuIcon />
            </IconButton>
            <Typography variant="h6" noWrap sx={{ flexGrow: 1 }}>
              Project Summary
            </Typography>
            <img src={WehiLogo} alt="WEHI" width="90" height="30" style={{ marginRight: '10px' }} />
            <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30" />
            <Button variant="contained" color="warning" onClick={handleLogout} sx={{ ml: 2, textTransform: 'none' }}>Log Out</Button>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar>
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <List>{mainListItems()}</List>
          <List>{secondaryListItems()}</List>
        </Drawer>
        <Box component="main" sx={{ flexGrow: 1, height: '100vh', overflow: 'auto', p: 3 }}>
          <Toolbar />
          <Container>
            <Paper sx={{ p: 3 }}>
              <Typography variant="h5" gutterBottom>
                Project ID: {projectData.project_id}
              </Typography>
              <Typography variant="body1" paragraph>
                {projectData.project_summary.description}
              </Typography>
              <Typography variant="h6">Summary</Typography>
              <List>
                <ListItem><ListItemText primary={`Total Patients: ${projectData.project_summary.total_patients}`} /></ListItem>
                <ListItem><ListItemText primary={`Total Samples: ${projectData.project_summary.total_samples}`} /></ListItem>
                <ListItem><ListItemText primary={`Total Storage: ${projectData.project_summary.storage.total_size}`} /></ListItem>
                <ListItem><ListItemText primary={`WEHI Data: ${projectData.project_summary.storage.wehi_data}`} /></ListItem>
                <ListItem><ListItemText primary={`Royal Melbourne Hospital Data: ${projectData.project_summary.storage.royal_melbourne_hospital_data}`} /></ListItem>
              </List>

              <Typography variant="h6">Breakdown</Typography>
              <List>
                <ListItem><ListItemText primary={`Patients (Squamous Cell Carcinoma): ${projectData.project_summary.breakdown.patients.squamous_cell_carcinoma}`} /></ListItem>
                <ListItem><ListItemText primary={`Patients (Adenocarcinoma): ${projectData.project_summary.breakdown.patients.adenocarcinoma}`} /></ListItem>
                <ListItem><ListItemText primary={`Physical Samples (Squamous Cell Carcinoma): ${projectData.project_summary.breakdown.physical_samples.squamous_cell_carcinoma}`} /></ListItem>
                <ListItem><ListItemText primary={`Physical Samples (Adenocarcinoma): ${projectData.project_summary.breakdown.physical_samples.adenocarcinoma}`} /></ListItem>
                <ListItem><ListItemText primary={`Data Types (WES T/N): ${projectData.project_summary.breakdown.data_types.wes_t_n}`} /></ListItem>
                <ListItem><ListItemText primary={`Data Types (scRNAseq): ${projectData.project_summary.breakdown.data_types.scrnaseq}`} /></ListItem>
                <ListItem><ListItemText primary={`Data Types (Microbiome): ${projectData.project_summary.breakdown.data_types.microbiome}`} /></ListItem>
                <ListItem><ListItemText primary={`Data Types (cfDNA): ${projectData.project_summary.breakdown.data_types.cfdna}`} /></ListItem>
                <ListItem><ListItemText primary={`Data Types (REDCap Profiles Complete): ${projectData.project_summary.breakdown.data_types.redcap_profiles_complete}`} /></ListItem>
              </List>
            </Paper>
          </Container>
          <Footer />
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/ProtectedRoute.jsx">
import React from 'react';
import { useSelector } from 'react-redux';
import { Navigate } from 'react-router-dom';

const ProtectedRoute = ({ children }) => {
  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);

  if (!isLoggedIn) {
    return <Navigate to="/login" />;
  }

  return children;
};

export default ProtectedRoute;
</file>

<file path="src/components/Upload.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button, Container } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import TextField from '@mui/material/TextField';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import Footer from './Footer';
import WehiLogo from '../assets/logos/wehi-logo.png';
import MelbUniLogo from '../assets/logos/unimelb-logo.png';

import { mainListItems, secondaryListItems } from '../components/Dashboard/listItems';
import { useDispatch } from 'react-redux';
import { logout } from '../actions/authActions'

function Copyright(props) {
    return (
      <Typography variant="body2" color="text.secondary" align="center" {...props}>
        {'Copyright © '}
        <Link color="inherit" href="https://mui.com/">
          Your Website
        </Link>{' '}
        {new Date().getFullYear()}
        {'.'}
      </Typography>
    );
}
  
const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
zIndex: theme.zIndex.drawer + 1,
transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
}),
backgroundColor: '#00274D', // Change the background color
...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.enteringScreen,
    }),
}),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
    ({ theme, open }) => ({
      '& .MuiDrawer-paper': {
        position: 'relative',
        whiteSpace: 'nowrap',
        width: drawerWidth,
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.enteringScreen,
        }),
        boxSizing: 'border-box',
        ...(!open && {
          overflowX: 'hidden',
          transition: theme.transitions.create('width', {
            easing: theme.transitions.easing.sharp,
            duration: theme.transitions.duration.leavingScreen,
          }),
          width: theme.spacing(7.5),
          [theme.breakpoints.up('sm')]: {
            width: theme.spacing(7),
          },
        }),
      },
    }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();


export default function Upload() {
    const [open, setOpen] = React.useState(false);
    const toggleDrawer = () => {
    setOpen(!open);
    };

    const dispatch = useDispatch();
    const navigate = useNavigate();

    const handleLogout = () => {
        dispatch(logout()); // Dispatch the logout action
        navigate('/login'); // Redirect to the login page
    };

    return (
        <ThemeProvider theme={defaultTheme}>
          <Box sx={{ display: 'flex' }}>
            <CssBaseline />
            <AppBar position="absolute" open={open}>
              <Toolbar
                sx={{
                  pr: '24px', // keep right padding when drawer closed
                }}
              >
                <IconButton
                  edge="start"
                  color="inherit"
                  aria-label="open drawer"
                  onClick={toggleDrawer}
                  sx={{
                    marginRight: '36px',
                    ...(open && { display: 'none' }),
                  }}
                >
                  <MenuIcon />
                </IconButton>
                <Typography
                  component="h1"
                  variant="h6"
                  color="inherit"
                  noWrap
                  sx={{ flexGrow: 1 }}
                >
                  Register New Dataset - Data Registry
                </Typography>
                <div style={{ display: 'flex', 
                              alignItems: 'center',
                              backgroundColor: 'rgba(255, 255, 255, 1)' ,
                              padding: '5px',
                              borderRadius: '5px',
                              alignSelf: 'center',
                              marginRight: '10px'
                              }}>
                  <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                       style={{marginLeft: '10px', marginRight: '10px' }} />
                </div>
                <div style={{ display: 'flex', 
                              alignItems: 'center',
                              backgroundColor: 'rgba(255, 255, 255, 1)' ,
                              padding: '5px',
                              borderRadius: '5px',
                              alignSelf: 'center',
                              marginRight: '10px'
                              }}>
                  <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                       style={{marginLeft: '2px', marginRight: '2px' }} />
                </div>
                <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
                  <Button
                   variant="contained"
                   color="warning"
                   onClick={handleLogout}
                   sx={{ textTransform: 'none',
                         padding: '5px 20px', // Increase padding for a bigger button
                         fontSize: '16px', // Increase font size
                         backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                        '&:hover': {
                        backgroundColor: '#0056b3', // Darker shade for hover state
                        }, 
                      }}
                  >
                    Log Out
                  </Button>
                </Box>
                <IconButton color="inherit">
                  <NotificationsIcon />
                </IconButton>
              </Toolbar>
            </AppBar>
            <Drawer variant="permanent" open={open}>
            <Toolbar
                sx={{
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'flex-end',
                px: [1],
                }}
            >
                <IconButton onClick={toggleDrawer}>
                <ChevronLeftIcon />
                </IconButton>
            </Toolbar>
            <Divider />
            <List component="nav">
                {mainListItems()}
                <Divider sx={{ my: 1 }} />
                {secondaryListItems()}
            </List>
            </Drawer>
            <Box
            component="main"
            sx={{
                backgroundColor: (theme) =>
                theme.palette.mode === 'light'
                    ? theme.palette.grey[100]
                    : theme.palette.grey[900],
                flexGrow: 1,
                height: '100vh',
                overflow: 'auto',
            }}
            >
            <Toolbar />
            <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
                <Grid container spacing={3}>
                    <Grid item xs={12}>
                    <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                        <Typography variant="h5" gutterBottom>
                            Register New Dataset
                        </Typography>
                        <Box
                        component="form"
                        sx={{
                            display: 'flex',
                            flexDirection: 'column',
                            gap: 3,
                            mt: 3,
                        }}
                        onSubmit={(e) => {
                            e.preventDefault();
                            console.log("Form submitted"); // Replace with upload logic
                        }}
                        ></Box>
                        {/* Grid Container for Two Columns */}
                        <Grid container spacing={4}>
                            {/* Left Column */}
                            <Grid item xs={12} md={6}>
                            {/* Title Field */}
                            <TextField
                                required
                                fullWidth
                                id="title"
                                label="Title"
                                variant="outlined"
                                placeholder="Lung cancer Whole Genome Sequencing"
                                sx={{ mb: 2 }}
                            />

                            {/* Abstract Field */}
                            <TextField
                                required
                                fullWidth
                                multiline
                                rows={4}
                                id="abstract"
                                label="Abstract"
                                variant="outlined"
                                placeholder="Enter a brief abstract for the dataset"
                                sx={{ mb: 2 }}
                            />

                            {/* Site Field */}
                            <TextField
                                required
                                fullWidth
                                id="site"
                                label="Site"
                                variant="outlined"
                                placeholder="WEHI Milton"
                                sx={{ mb: 2 }}
                            />

                            {/* Location Field */}
                            <TextField
                                fullWidth
                                id="location"
                                label="Location"
                                variant="outlined"
                                placeholder="/vast/projects/TDE/"
                                sx={{ mb: 2 }}
                            />
                            </Grid>

                            {/* Right Column */}
                            <Grid item xs={12} md={6}>
                            {/* Raw Files Field */}
                            <TextField
                                fullWidth
                                id="raw-files"
                                label="Raw Files"
                                variant="outlined"
                                placeholder="*.fastq, *.fasta"
                                sx={{ mb: 2 }}
                            />

                            {/* Processed Files Field */}
                            <TextField
                                fullWidth
                                id="processed-files"
                                label="Processed Files"
                                variant="outlined"
                                placeholder="*.cram, *.bam"
                                sx={{ mb: 2 }}
                            />

                            {/* Summary Files Field */}
                            <TextField
                                fullWidth
                                id="summary-files"
                                label="Summary Files"
                                variant="outlined"
                                placeholder="*.vcf, *.maf"
                                sx={{ mb: 2 }}
                            />

                            {/* README Files Field */}
                            <TextField
                                fullWidth
                                id="readme-files"
                                label="README Files"
                                variant="outlined"
                                placeholder="README.md"
                                sx={{ mb: 2 }}
                            />
                            </Grid>
                        </Grid>
                    

                    {/* Submit Button */}
                    <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>
                        <Button
                        type="submit"
                        variant="contained"
                        color="primary"
                        size="large"
                        sx={{
                            backgroundColor: '#00274D',
                            '&:hover': {
                            backgroundColor: '#0056b3',
                            },
                        }}
                        >
                        Register New
                        </Button>
                    </Box>
                    

                    </Paper>
                    </Grid>
                </Grid>
                <Footer />
            </Container>
            
            
            </Box>
        </Box>
    </ThemeProvider>
    );

}
</file>

<file path="src/main.jsx">
import React from 'react';
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import App from './App.jsx'
import ReactDOM from 'react-dom/client';
import './index.css'
import { Provider } from 'react-redux';
import store from './store';

// ReactDOM.createRoot(document.getElementById('root')).render(
//   <React.StrictMode>
//     <App />
//   </React.StrictMode>
// );

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </React.StrictMode>
);
</file>

<file path="src/pages/DashboardPage.jsx">
import Dashboard from "../components/Dashboard/Dashboard";

export function DashboardPage() {
    return (
        <Dashboard />
    );
}
</file>

<file path="src/pages/DatasetPage/AllDatasetsPage.jsx">
import AllDatasets from "../../components/Dataset/AllDatasets";
import BackendDatasets from "../../components/Dataset/BackendDatasets";

export default function AllDatasetsPage() {
    return (
        <BackendDatasets />
    );
}
</file>

<file path="src/pages/DatasetPage/DatasetDetailsPage.jsx">
import DatasetDetails from "../../components/Dataset/DatasetDetails";
import SingleDataset from "../../components/Dataset/DatasetDetails";

export default function DatasetDetailsPage() {
    return (
        <DatasetDetails />
    );
}
</file>

<file path="src/pages/HomePage.jsx">
import Home from "../components/Home.jsx";

export default function HomePage() { 
    return <Home />;
}
</file>

<file path="src/pages/LoginPage.jsx">
import SignIn from "../components/Login";

export function LoginPage() {
  return (
    <SignIn />
  );
}
</file>

<file path="src/pages/PatientPage/AllPatientsPage.jsx">
import AllPatients from "../../components/Patient/AllPatients";
import BackendPatients from "../../components/Patient/BackendPatients";

export default function AllPatientsPage() {
    return (
        <BackendPatients />
    );
}
</file>

<file path="src/pages/PatientPage/SinglePatientPage.jsx">
export default function SinglePatientPage() {
    return (
        <h1>Single Patient Page</h1>
    );
}
</file>

<file path="src/pages/ProjectPage/AllProjectsPage.jsx">
import BackendProjects from "../../components/Project/BackendProjects";


export default function AllProjectsPage() {
    return (
        <BackendProjects />
    );
}
</file>

<file path="src/pages/ProjectPage/SingleProjectPage.jsx">
export default function SingleProjectPage() {
    return (
        <h1>Single Project Page</h1>
    );
}
</file>

<file path="src/pages/ProjectSumaryPage.jsx">
import ProjectSummary from "../components/ProjectSummary.jsx";

export default function ProjectSummaryPage() { 
    return <ProjectSummary />;
}
</file>

<file path="src/pages/UploadPage.jsx">
import Upload from "../components/Upload";

export function UploadPage() {
    return (
        <Upload />
    );
}
</file>

<file path="src/pages/Visualization.jsx">
export default function Visualization() {
    return (
        <h1>Under Construction</h1>
    );
}
</file>

<file path="src/reducers/authReducers.js">
const initialState = {
    isLoggedIn: localStorage.getItem('isLoggedIn') === 'true',
};

const authReducer = (state = initialState, action) => {
    switch (action.type) {
        case 'LOGIN':
            return {
                ...state,
                isLoggedIn: true,
            };
        case 'LOGOUT':
            return {
                ...state,
                isLoggedIn: false,
            };
        default:
            return state;
    }
};

export default authReducer;
</file>

<file path="src/store.js">
import { createStore } from 'redux';
import { combineReducers } from 'redux';
import authReducer from './reducers/authReducers'

const rootReducer = combineReducers({
    auth: authReducer,
    // other reducers can be added here
});

const store = createStore(rootReducer);

export default store;
</file>

<file path="vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})
</file>

<file path="package.json">
{
  "name": "data-commons",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview",
    "start": "vite --port 5173"
  },
  "dependencies": {
    "@emotion/react": "^11.13.0",
    "@emotion/styled": "^11.13.0",
    "@fontsource/inter": "^5.0.20",
    "@mui/icons-material": "^5.16.7",
    "@mui/joy": "^5.0.0-beta.48",
    "@mui/material": "^5.16.7",
    "@mui/styled-engine-sc": "^6.0.0-alpha.18",
    "@mui/x-charts": "^7.12.1",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "react-redux": "^9.1.2",
    "react-router-dom": "^6.26.1",
    "redux": "^5.0.1",
    "styled-components": "^6.1.12"
  },
  "devDependencies": {
    "@eslint/js": "^9.9.0",
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react": "^4.3.1",
    "eslint": "^9.9.0",
    "eslint-plugin-react": "^7.35.0",
    "eslint-plugin-react-hooks": "^5.1.0-rc.0",
    "eslint-plugin-react-refresh": "^0.4.9",
    "globals": "^15.9.0",
    "vite": "^5.4.1"
  }
}
</file>

<file path="src/components/Dataset/DatasetDetails.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button, Dialog, DialogTitle, DialogContent, DialogActions, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Tooltip from '@mui/material/Tooltip';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'
import dataset from '../../assets/testjson/output.json';


// Generate Order Data, this will be replaced with data from the backend
  function preventDefault(event) {
    event.preventDefault();
  }

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();

export default function AllDatasets() {
    
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };
  
  // Extract data dynamically from the dataset
  const rawFiles = dataset.data.files.raw.map(file => ({
    filename: file.file_name,
    sampleId: file.sample_id,
    patientId: file.patient_id,
    location: 'WEHI', // Hardcoded for now; update if necessary
    size: `${file.file_size}`, // Assuming file_size is in KB
    redcap: 0 // Defaulting REDCap complete to 0; update if needed
  }));

  const dataFileUnit = dataset.data.file_size_unit;
  
  const rawDataLocation = dataset.data.location; // Extract base path
  const rawFilesDirectory = dataset.data.files.raw.map(file => file.directory); // Extract file paths without extra quotes
  
  // **Calculate Total Number of Files**
  const totalFiles = rawFiles.length;

  const totalFileSize = dataset.data.files.raw
  .map(file => Number(file.file_size)) // Ensure numbers
  .reduce((acc, size) => acc + size, 0); // Sum them up

  // Format as Python code
  const pythonCode = `import os\n\nbase_path = '${rawDataLocation}'\nraw_file_array = [\n  ${rawFilesDirectory.map(file => `'${file}'`).join(",\n  ")}\n]\n`;
  
  const rCode = `
      # Define the base path
      base_path <- "${rawDataLocation}"
  
      # Define the raw file array
      raw_file_array <- c(
        ${rawFilesDirectory.map(file => `"${file}"`).join(",\n  ")}
      )
  
      # Combine paths
      file_paths <- paste(base_path, raw_file_array, sep = "")
  
      # Print the file paths
      print(file_paths)
      `;
  


  // Copy function Python
  const handleCopyPython = () => {
    navigator.clipboard.writeText(pythonCode)
      .then(() => alert("Python snippet copied to clipboard!"))
      .catch(err => console.error("Failed to copy:", err));
  };

  // Copy function R
  const handleCopyR = () => {
    navigator.clipboard.writeText(rCode)
      .then(() => alert("R snippet copied to clipboard!"))
      .catch(err => console.error("Failed to copy:", err));
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  // Function to open the dialog
  const handleOpenPop = () => {
    setOpen(true);
  };

  // Function to close the dialog
  const handleClosePop = () => {
    setOpen(false);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              TUFT Data Environment - Data Registry
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            
                <Grid container spacing={3}>
                    
                    <Grid item xs={8} sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
                    <Paper sx={{ p: 4, flexGrow: 1 }}>
                        <Typography variant="h5" gutterBottom>
                          Whole-exome sequencing of Lung Cancer Tumour-Normal pairs
                        </Typography>
                        <Typography variant="h7">All Raw Files View ({totalFiles} – {totalFileSize} KB)</Typography>

                        <TableContainer component={Paper} sx={{ mt: 2 }}>
                            <Table>
                            <TableHead>
                                <TableRow>
                                <TableCell></TableCell>
                                <TableCell>Filename</TableCell>
                                <TableCell>Sample ID</TableCell>
                                <TableCell>Patient ID</TableCell>
                                <TableCell>Location</TableCell>
                                <TableCell>Size</TableCell>
                                <TableCell>REDCap complete</TableCell>
                                </TableRow>
                            </TableHead>
                            <TableBody>
                                {rawFiles.map((file) => (
                                <TableRow key={file.filename}>
                                    <TableCell>
                                
                                    </TableCell>
                                    <TableCell>{file.filename}</TableCell>
                                    <TableCell>{file.sampleId}</TableCell>
                                    <TableCell>{file.patientId}</TableCell>
                                    <TableCell>{file.location}</TableCell>
                                    <TableCell>{file.size}{dataFileUnit}</TableCell>
                                    <TableCell>{file.redcap}</TableCell>
                                </TableRow>
                                ))}
                            </TableBody>
                            </Table>
                        </TableContainer>

                        
                    </Paper>
                    </Grid>

                    <Grid item xs={4} sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
                    <Paper sx={{ p: 4, flexGrow: 1 }}>
                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Raw Data</Typography>

                        {/* use the following line of code if there is an existing json file for TDE0001 */}
                        {/*<Typography variant="body2">Located: WEHI Milton {dataset.data.location}</Typography> */}

                        <Typography variant="body2">Located: WEHI Milton /vast/projects/TDE/TDE0001</Typography>

                        <Divider sx={{ my: 2 }} />
                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Copy code for raw data</Typography>

                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={handleCopyPython}>WEHI Jupyter Notebook</Button>

                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={handleOpenPop}>SLURM pre-processing</Button>
                        {/* Dialog (Popup) */}
                        <Dialog open={open} onClose={handleClosePop} maxWidth="sm" fullWidth >
                          
                          <DialogContent>
                            <Paper elevation={3} sx={{ p: 3, borderRadius: 2 }}>
                            <DialogTitle sx={{ fontWeight: 'bold', textAlign: 'center' }}>Run SLURM pre-processing</DialogTitle>
                              <Typography variant="body1"><b>Run number:</b> TDE0001-002</Typography>
                              <Typography variant="body1"><b>Pre-processing script:</b> /vast/projects/TDE/scripts/cfDNA_pre-processing.sh</Typography>
                              <Typography variant="body1"><b>Directory:</b> /vast/projects/TDE/TDE0001</Typography>
                              <Typography variant="body1"><b>Configuration file:</b> /vast/projects/TDE/TDE0001/pre-processing/TDE0001-002.ini</Typography>
                              <Typography variant="body1"><b>Output directory:</b> /vast/projects/TDE/TDE0001/processed/TDE0001-002/</Typography>
                              <Typography variant="body1"><b>Log file:</b> /vast/projects/TDE/TDE0001/processed/TDE0001-002/out.log</Typography>
                            </Paper>
                          </DialogContent>

                          {/* Close Button */}
                          <DialogActions>
                            <Button onClick={handleClosePop} variant="contained" color="error">Close</Button>
                          </DialogActions>
                        </Dialog>
                      
                        <Button variant="outlined" sx={{ mt: 1 }} onClick={handleCopyR}>WEHI RStudio</Button>
                        <Divider sx={{ my: 2 }} />

                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Data Portals</Typography>

                        {/* Link to Omero data portal - the '2' in the link is the project ID in Omero */}
                        {/* This is for example to show how it links to Omero only, TDE0001 actually uses cBioPortal since it's genomic data. */}
                        <Tooltip title="Omero">
                          <Button variant="outlined" sx={{ mr: 2, mt: 1 }} component={Link} href="http://118.138.242.23:4080/webclient/?show=dataset-2" target="_blank">
                            Omero
                          </Button>
                        </Tooltip>
                        <Divider sx={{ my: 2 }} />
                        
                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Other views</Typography>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/dashboard')}>All Samples View</Button>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/datasets')}>All Datasets View</Button>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/patients')}>All Samples Summary</Button>

                        {/* hard coded */}
                        <Button variant="outlined" sx={{ mt: 1 }} onClick={() => navigate('/dataset/details/BIOL10001')}>Files for this dataset</Button>
                    </Paper>
                    </Grid>
                </Grid>
                <Footer />
            </Container>

        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Project/AllProjects.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../../components/Dashboard/Title';
import { useState } from 'react';
import TablePagination from '@mui/material/TablePagination';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'

// Generate Order Data, this will be replaced with data from the backend
function createData(id, pId, date, name, status) {
  return { id, pId, date, name, status};
}

const rows = [
  createData(
    0,
    'BU250',
    '16 Aug, 2024',
    'WOw',
    'Active',
  ),
  createData(
    1,
    'YAO666',
    '26 Jun, 2024',
    'SHIne',
    'Active',
  ),
  createData(
    2,
    'ZUO690', 
    '16 Jun, 2024',
    'GEnius', 
    'Active',
    ),
  createData(
    3,
    'TIAN88',
    '16 May, 2024',
    'SHAke',
    'Active',
  ),
  createData(
    4,
    'GOU468',
    '15 Apr, 2024',
    'BIte',
    'Active',
  ),
];
  function preventDefault(event) {
    event.preventDefault();
  }

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();

export default function AllProjects() {
    
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  const handleViewDetails = (pId) => {
    navigate(`/project/${pId}`); // Navigates to the project page with the dId
  };

  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              All Projects
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />s
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                    <React.Fragment>
                        <Title>Projects</Title>
                        <Table size="large">
                        <TableHead>
                            <TableRow>
                              <TableCell>Project ID</TableCell>
                              <TableCell>Date Created</TableCell>
                              <TableCell>Name</TableCell>
                              <TableCell>Status</TableCell>
                              <TableCell align="right">View Details</TableCell>
                            </TableRow>
                        </TableHead>
                        <TableBody>
                            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (
                            <TableRow key={row.id}>
                               <TableCell>{row.pId}</TableCell>
                               <TableCell>{row.date}</TableCell>
                               <TableCell>{row.name}</TableCell>
                               <TableCell>{row.status}</TableCell>
                               <TableCell align="right">
                                <Button
                                    variant="contained"
                                    color="primary"
                                    size="small"
                                    onClick={() => handleViewDetails(row.pId)}
                                    sx={{ textTransform: 'none',
                                    padding: '5px 10px', // Increase padding for a bigger button
                                    fontSize: '10px', // Increase font size
                                }}
                                >
                                    View Files
                                </Button>
                                </TableCell>
                            </TableRow>
                            ))}
                        </TableBody>
                        </Table>
                        <TablePagination
                            rowsPerPageOptions={[5, 10, 25]}
                            component="div"
                            count={rows.length}
                            rowsPerPage={rowsPerPage}
                            page={page}
                            onPageChange={handleChangePage}
                            onRowsPerPageChange={handleChangeRowsPerPage}
                        />
                    </React.Fragment>
                </Paper>
              </Grid>
            </Grid>
            <Footer />
          </Container>
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Project/SimpleBackend.jsx">
Failed to fetchimport React, { useEffect, useState } from 'react';

// Define a TypeScript interface if you're using TypeScript
// interface Project {
//   id: number;
//   name: string;
//   status: string;
// }

const BackendProjects = () => {
    const [projects, setProjects] = useState([]);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const BASE_URL = import.meta.env.VITE_API_BASE_URL;

    // Fetch data from FastAPI
    const fetchProjects = async () => {
        try {
            const response = await fetch(`${BASE_URL}/projects/`);
            if (!response.ok) {
                throw new Error(`Error: ${response.status}`);
            }
            const data = await response.json();
            setProjects(data);
        } catch (error) {
            console.error('Error fetching projects:', error);
            setError(error.message);
        } finally {
            setLoading(false);
        }
    };

    useEffect(() => {
        fetchProjects();
    }, []);

    return (
        <div>
            {loading ? (
                <p>Loading...</p> // Replace with a spinner if needed
            ) : error ? (
                <p>Error loading projects: {error}</p>
            ) : (
                <ul>
                    {projects.length > 0 ? (
                        projects.map((project) => (
                            <li key={project.id}>
                                <h2>{project.name}</h2>
                                <p>Status: {project.status}</p>
                            </li>
                        ))
                    ) : (
                        <p>No projects found.</p>
                    )}
                </ul>
            )}
        </div>
    );
};

export default BackendProjects;
</file>

<file path="src/pages/DatasetPage/SingleDatasetPage.jsx">
import SingleDataset from "../../components/Dataset/SingleDataset";

export default function SingleDatasetPage() {
    return (
        <SingleDataset />
    );
}
</file>

<file path="README.md">
# Data Commons

## Overview

Data Commons is a web application built using React, designed to manage datasets, projects, and patient information. 

## Features

- **Authentication**: Users can log in and log out. Unauthorized access to specific routes is prevented.
- **Dataset Management**: Manage datasets with options to view all datasets or a single dataset.
- **Patient Management**: View and manage patient information.
- **Project Management**: View all projects or a single project, with a dashboard overview.
- **Responsive Design**: The application is designed to be responsive, providing a good user experience across different devices.

## Project Structure

The project is structured into several directories:

```plaintext
REDMANE_react.js/
│
├── public/                # Public assets like images, fonts, etc.
├── src/                   # Source code for the project
│   ├── actions/           # Redux action creators
│   │   └── authActions.js # Actions related to authentication
│   ├── assets/            # Assets like images and logos
│   │   └── logos/         # Logos used in the application
│   │   └── testjson/       # JSON files for testing 
│   ├── components/        # Reusable components
│   │   ├── Dashboard/     # Components related to the dashboard
│   │   ├── Dataset/       # Components related to datasets
│   │   ├── Patient/       # Components related to patients
│   │   ├── Project/       # Components related to projects
│   │   ├── Footer.jsx     # Footer component
│   │   ├── Login.jsx      # Login component
│   │   ├── LogOutButton.jsx # Log Out button component
│   │   └── ProjectSummary.jsx # Project summary component
│   │   └── ProtectedRoute.jsx # Component to protect routes based on authentication
│   │   └── Upload.jsx     # Register dataset component
│   ├── pages/             # Page components, categorized by functionality
│   │   ├── DatasetPage/   # Pages related to datasets
│   │   ├── PatientPage/   # Pages related to patients
│   │   └── ProjectPage/   # Pages related to projects
│   │   └── DashboardPage.jsx # Dashboard page
│   │   └── LoginPage.jsx  # Login page
│   │   └── ProjectSummaryPage.jsx # Project Summary Page
│   │   └── UploadPage.jsx # Upload Page
│   ├── reducers/          # Redux reducers to manage state
│   ├── App.jsx            # Main application component
│   ├── index.css          # Global styles
│   ├── index.js           # Entry point for React
│   ├── main.js            # Main entry point for Vite
│   ├── store.js           # Redux store configuration
├── .gitignore             # Git ignore file
├── package.json           # Project metadata and dependencies
├── vite.config.js         # Vite configuration file
└── README.md              # Project documentation
```

## Installation

### Prerequisites

- **Node.js**: Ensure you have Node.js installed (v14 or later).

### Setup Instructions

1. **Clone the repository:**

   ```bash
   git clone git@github.com:WEHI-RCPStudentInternship/REDMANE_react.js.git
   cd REDMANE_react.js
   ```

2. **Install dependencies:**

   Using npm:
   ```bash
   npm install
   ```

3. **Start the development server:**

   Using npm:
   ```bash
   npm run dev
   ```
</file>

<file path="src/components/Dataset/Datasets.jsx">
import * as React from 'react';
import Link from '@mui/material/Link';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../Dashboard/Title';
import { useNavigate } from 'react-router-dom';
import { Button } from '@mui/material';
import Box from '@mui/material/Box';


// Generate Order Data
function createData(id, dId, date, name, source) {
    return { id, dId, date, name, source};
}

const rows = [
    createData(
      0,
      'BIOL10001',
      '16 Aug, 2024',
      'GeneFlow',
      'University of Melbourne',
    ),
    createData(
      1,
      'GENE10001',
      '26 Jun, 2024',
      'VitalMetrics',
      'University of Melbourne',
      
    ),
    createData(
      2,
      'GENE10002', 
      '16 Jun, 2024',
      'BioSpectrum', 
      'cBioPortal',

      ),
    createData(
      3,
      'BIOL10006',
      '16 May, 2024',
      'CellBase',
      'WEHI',
      
    ),
    createData(
      4,
      'GENE10003',
      '15 Apr, 2024',
      'GenomicAtlas',
      'USYD',
    ),
  ];
  
  function preventDefault(event) {
    event.preventDefault();
  }

export default function Datasets({ title = "Recent Datasets", size = "small", showSeeMore = true}) {
    const navigate = useNavigate();
    const handleViewDetails = (dId) => {
        navigate(`/dataset/${dId}`); // Navigates to the project page with the pId
    };
    const handleSeeMore = () => {
      navigate('/datasets'); // Replace with the actual route you want to navigate to
    };

    return (
      <React.Fragment>
        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
        <Title>{title}</Title>
        <Button
          variant="contained"
          sx={{
            minWidth: '40px',
            height: '40px',
            borderRadius: '50%',
            display: 'flex',
            justifyContent: 'center',
            alignItems: 'center'
          }}
          onClick={() => navigate('/upload')}
        >
          +
        </Button>
      </Box>
        <Table size={size}>
          <TableHead>
            <TableRow>
              <TableCell>Dataset ID</TableCell>
              <TableCell>Date Uploaded</TableCell>
              <TableCell>Name</TableCell>
              <TableCell>Source</TableCell>
              <TableCell align="right">View Files</TableCell>
            </TableRow>
          </TableHead>
          <TableBody>
            {rows.map((row) => (
              <TableRow key={row.id}>
                <TableCell>{row.dId}</TableCell>
                <TableCell>{row.date}</TableCell>
                <TableCell>{row.name}</TableCell>
                <TableCell>{row.source}</TableCell>
                <TableCell align="right">
                <Button
                    variant="contained"
                    color="primary"
                    size="small"
                    onClick={() => handleViewDetails(row.dId)}
                    sx={{ textTransform: 'none',
                      padding: '5px 10px', // Increase padding for a bigger button
                      fontSize: '10px', // Increase font size
                  }}
                  >
                    View Files
                  </Button>
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
        {
          showSeeMore && 
          <Link
            component="button"
            variant="body2"
            onClick={handleSeeMore}
            sx={{ mt: 3 }}
          >
            See more...
          </Link>
        }
      </React.Fragment>
    );
}
</file>

<file path="src/App.jsx">
import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'

import HomePage from './pages/HomePage'
import { LoginPage } from './pages/LoginPage'
import { DashboardPage } from './pages/DashboardPage'
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom'

import AllDatasets from './pages/DatasetPage/AllDatasetsPage'
import AllProjects from './pages/ProjectPage/AllProjectsPage'
import AllPatients from './pages/PatientPage/AllPatientsPage'

import SingleDatasetPage from './pages/DatasetPage/SingleDatasetPage';
import SinglePatientPage from './pages/PatientPage/SinglePatientPage';
import SingleProjectPage from './pages/ProjectPage/SingleProjectPage';

import Visualization from './pages/Visualization'

import ProtectedRoute from './components/ProtectedRoute';
import { UploadPage } from './pages/UploadPage'
import ProjectSummary from './pages/ProjectSumaryPage'
import DatasetDetailsPage from './pages/DatasetPage/DatasetDetailsPage'

function App() {

  return (
    <Router>
      <Routes>
        <Route path="/" element={<HomePage />}/>
        <Route path="/login" element={<LoginPage />} />
        <Route 
          path="/dashboard"
          element={
            <ProtectedRoute>
              <DashboardPage />
            </ProtectedRoute>
          }
        />

        {/* Full Page */}
        <Route
          path="/datasets"
          element={
            <ProtectedRoute>
              <AllDatasets/>
            </ProtectedRoute>
          }
        />
        <Route
          path="/projects"
          element={
            <ProtectedRoute>
              <AllProjects/>
            </ProtectedRoute>
          }
        />
        <Route
          path="/patients"
          element={
            <ProtectedRoute>
              <AllPatients/>
            </ProtectedRoute>
          }
          />
          <Route
          path="/visualizations"
          element={
            <ProtectedRoute>
              <Visualization />
            </ProtectedRoute>
          }
        />
        
        <Route
          path="/upload"
          element={
            <ProtectedRoute>
              <UploadPage />
            </ProtectedRoute>
          }
        />

        <Route
          path="/projectsummary"
          element={
            <ProtectedRoute>
              <ProjectSummary />
            </ProtectedRoute>
          }
        />

        {/* Single Page */}
        <Route
          path="/dataset/:id"
          element={
            <ProtectedRoute>
              <SingleDatasetPage />
            </ProtectedRoute>
          }
        />
        <Route
          path="/patient/:id"
          element={
            <ProtectedRoute>
              <SinglePatientPage />
            </ProtectedRoute>
          }
        />
        <Route
          path="/project/:id"
          element={
            <ProtectedRoute>
              <SingleProjectPage />
            </ProtectedRoute>
          }
        />

        <Route
          path="/dataset/details/:id"
          element={
            <ProtectedRoute>
              <DatasetDetailsPage />
            </ProtectedRoute>
          }
        />
      </Routes>
    </Router>
  );
}

export default App
</file>

<file path="src/components/Dataset/BackendDatasets.jsx">
import React, { useState, useEffect } from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import TablePagination from '@mui/material/TablePagination';
import Title from '../Dashboard/Title';
import { mainListItems, secondaryListItems } from '../Dashboard/listItems';
import Footer from '../Footer';
import { useNavigate, useLocation } from 'react-router-dom';
import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';

const drawerWidth = 240;
const defaultTheme = createTheme();
const BASE_URL = import.meta.env.VITE_API_BASE_URL;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D',
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

export default function AllDatasets() {
  const [open, setOpen] = useState(false);
  const [datasets, setDatasets] = useState([]); // For fetched data
  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const navigate = useNavigate();
  const dispatch = useDispatch();
  const location = useLocation();

  const projectId = new URLSearchParams(location.search).get('project_id');

  const toggleDrawer = () => {
    setOpen(!open);
  };

  // Fetch datasets from backend
  useEffect(() => {
    const fetchDatasets = async () => {
      try {
        let url = `${BASE_URL}/projects/`;
        if (projectId) {
          url += `?project_id=${projectId}`;
        }
        const response = await fetch(url);
        const data = await response.json();
        setDatasets(data); // Assuming the API response is an array of datasets
      } catch (error) {
        console.error('Error fetching datasets:', error);
      }
    };
    fetchDatasets();
  }, [projectId]);

  const handleLogout = () => {
    dispatch(logout());
    navigate('/login');
  };

  const handleViewDetails = (dId) => {
    navigate(`/dataset/${dId}`);
  };

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar sx={{ pr: '24px' }}>
            <IconButton edge="start" color="inherit" aria-label="open drawer" onClick={toggleDrawer} sx={{ marginRight: '36px', ...(open && { display: 'none' }) }}>
              <MenuIcon />
            </IconButton>
            <Typography component="h1" variant="h6" color="inherit" noWrap sx={{ flexGrow: 1 }}>
              {projectId ? `Datasets for Project ${projectId}` : 'All Datasets'}
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}>
              <Button variant="contained" color="warning" onClick={handleLogout} sx={{ textTransform: 'none', padding: '5px 20px', fontSize: '16px', backgroundColor: '#00274D' }}>
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', px: [1] }}>
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box component="main" sx={{ backgroundColor: (theme) => theme.palette.grey[100], flexGrow: 1, height: '100vh', overflow: 'auto' }}>
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <Title>Datasets</Title>
                  <Table size="large">
                    <TableHead>
                      <TableRow>
                        <TableCell>Dataset ID</TableCell>
                        <TableCell>Project ID</TableCell>
                        <TableCell>Name</TableCell>
                        <TableCell align="right">View Files</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {datasets.length === 0 ? (
                        <TableRow>
                          <TableCell colSpan={4} align="center">
                            No datasets available.
                          </TableCell>
                        </TableRow>
                      ) : (
                        datasets.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((dataset) => (
                          <TableRow key={dataset.id}>
                            <TableCell>{dataset.id}</TableCell>
                            <TableCell>{dataset.project_id}</TableCell>
                            <TableCell>{dataset.name}</TableCell>
                            <TableCell align="right">
                              <Button
                                variant="contained"
                                color="primary"
                                size="small"
                                onClick={() => handleViewDetails(dataset.id)}
                                sx={{ textTransform: 'none' }}
                                >
                                  View
                                </Button>
                              </TableCell>
                            </TableRow>
                          ))
                        )}
                      </TableBody>
                    </Table>
                    <TablePagination
                      rowsPerPageOptions={[5, 10, 25]}
                      component="div"
                      count={datasets.length}
                      rowsPerPage={rowsPerPage}
                      page={page}
                      onPageChange={handleChangePage}
                      onRowsPerPageChange={handleChangeRowsPerPage}
                    />
                  </Paper>
                </Grid>
              </Grid>
              <Footer />
            </Container>
          </Box>
        </Box>
      </ThemeProvider>
    );
  }
</file>

<file path="src/components/Patient/BackendPatients.jsx">
import React, { useState, useEffect } from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import TablePagination from '@mui/material/TablePagination';
import Title from '../../components/Dashboard/Title';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import { useNavigate, useParams, useLocation } from 'react-router-dom';
import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Button from '@mui/material/Button';

const drawerWidth = 240;
const defaultTheme = createTheme();
const BASE_URL = import.meta.env.VITE_API_BASE_URL;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D',
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

export default function AllPatients(){
  const [open, setOpen] = useState(false);
  const [patients, setPatients] = useState([]);
  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const navigate = useNavigate();
  const dispatch = useDispatch();
  const location = useLocation();

  const projectId = new URLSearchParams(location.search).get('project_id');

  const toggleDrawer = () => {
    setOpen(!open);
  };

  useEffect(() => {
    const fetchPatients = async () => {
      try {
        setPatients([]); // Clear the previous patients

        let url = `${BASE_URL}/patients/`;
        if (projectId) {
          url += `?project_id=${projectId}`;
        }
        const response = await fetch(url);

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        setPatients(data);
      } catch (error) {
        console.error('Error fetching patients:', error);
      }
    };

    fetchPatients();
  }, [projectId]);

  const handleLogout = () => {
    dispatch(logout());
    navigate('/login');
  };

  const handleViewDetails = (pId) => {
    navigate(`/patient/${pId}`);
  };

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar sx={{ pr: '24px' }}>
            <IconButton edge="start" color="inherit" aria-label="open drawer" onClick={toggleDrawer} sx={{ marginRight: '36px', ...(open && { display: 'none' }) }}>
              <MenuIcon />
            </IconButton>
            <Typography component="h1" variant="h6" color="inherit" noWrap sx={{ flexGrow: 1 }}>
              {projectId ? `Patients for Project ${projectId}` : 'All Patients'}
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)',
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)',
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}>
              <Button variant="contained" color="warning" onClick={handleLogout} sx={{ textTransform: 'none', padding: '5px 20px', fontSize: '16px', backgroundColor: '#00274D' }}>
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', px: [1] }}>
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box component="main" sx={{ backgroundColor: (theme) => theme.palette.grey[100], flexGrow: 1, height: '100vh', overflow: 'auto' }}>
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <Title>Patients</Title>
                  <Table size="large">
                    <TableHead>
                      <TableRow>
                        <TableCell>Patient ID</TableCell>
                        <TableCell>Project ID</TableCell>
                        <TableCell>External Patient ID</TableCell>
                        <TableCell>External Patient URL</TableCell>
                        <TableCell>Public Patient ID</TableCell>
                        <TableCell align="right">Sample Count</TableCell>
                        <TableCell align="right">View Details</TableCell>
                      </TableRow>
                    </TableHead>
                    <TableBody>
                      {patients.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((patient) => (
                        <TableRow key={patient.id}>
                          <TableCell>{patient.id}</TableCell>
                          <TableCell>{patient.project_id}</TableCell>
                          <TableCell>{patient.ext_patient_id}</TableCell>
                          <TableCell>{patient.ext_patient_url}</TableCell>
                          <TableCell>{patient.public_patient_id}</TableCell>
                          <TableCell align="right">{patient.sample_count}</TableCell>
                          <TableCell align="right">
                            <Button
                              variant="contained"
                              color="primary"
                              size="small"
                              onClick={() => handleViewDetails(patient.id)}
                              >
                                View
                              </Button>
                            </TableCell>
                          </TableRow>
                        ))}
                      </TableBody>
                    </Table>
                    <TablePagination
                      rowsPerPageOptions={[10, 25, 50]}
                      component="div"
                      count={patients.length}
                      rowsPerPage={rowsPerPage}
                      page={page}
                      onPageChange={handleChangePage}
                      onRowsPerPageChange={handleChangeRowsPerPage}
                    />
                  </Paper>
                </Grid>
              </Grid>
              <Footer />
            </Container>
          </Box>
        </Box>
      </ThemeProvider>
    );
  }
</file>

<file path="src/components/Project/BackendProjects.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import Table from '@mui/material/Table';
import TableBody from '@mui/material/TableBody';
import TableCell from '@mui/material/TableCell';
import TableHead from '@mui/material/TableHead';
import TableRow from '@mui/material/TableRow';
import Title from '../../components/Dashboard/Title';
import TablePagination from '@mui/material/TablePagination';
import { useState, useEffect } from 'react';
import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';

const drawerWidth = 240;
const BASE_URL = import.meta.env.VITE_API_BASE_URL;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D',
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

const defaultTheme = createTheme();

export default function BackendProjects() {
  const [open, setOpen] = React.useState(false);
  const [projects, setProjects] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [page, setPage] = useState(0);
  const [rowsPerPage, setRowsPerPage] = useState(10);

  const toggleDrawer = () => {
    setOpen(!open);
  };

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout());
    navigate('/login');
  };

  const handleViewDatasets = (projectId) => {
    navigate(`/datasets?project_id=${projectId}`);
  };

  const handleViewPatients = (projectId) => {
    navigate(`/patients?project_id=${projectId}`);
  };

  const handleChangePage = (event, newPage) => {
    setPage(newPage);
  };

  const handleChangeRowsPerPage = (event) => {
    setRowsPerPage(parseInt(event.target.value, 10));
    setPage(0);
  };

  useEffect(() => {
    const fetchProjects = async () => {
      try {
        const response = await fetch(`${BASE_URL}/projects/`);
        if (!response.ok) {
          throw new Error(`Error: ${response.status}`);
        }
        const data = await response.json();
        setProjects(data);
      } catch (error) {
        console.error('Error fetching projects:', error);
        setError(error.message);
      } finally {
        setLoading(false);
      }
    };

    fetchProjects();
  }, []);

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar sx={{ pr: '24px' }}>
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{ marginRight: '36px', ...(open && { display: 'none' }) }}
            >
              <MenuIcon />
            </IconButton>
            <Typography component="h1" variant="h6" color="inherit" noWrap sx={{ flexGrow: 1 }}>
              All Projects
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}>
              <Button
                variant="contained"
                color="warning"
                onClick={handleLogout}
                sx={{ textTransform: 'none', padding: '5px 20px', fontSize: '16px', backgroundColor: '#00274D', '&:hover': { backgroundColor: '#0056b3' } }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', px: [1] }}>
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box component="main" sx={{ backgroundColor: theme => theme.palette.mode === 'light' ? theme.palette.grey[100] : theme.palette.grey[900], flexGrow: 1, height: '100vh', overflow: 'auto' }}>
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
            <Grid container spacing={3}>
              <Grid item xs={12}>
                <Paper sx={{ p: 2, display: 'flex', flexDirection: 'column' }}>
                  <React.Fragment>
                    <Title>Projects</Title>
                    {loading ? (
                      <Typography variant="h6">Loading...</Typography>
                    ) : error ? (
                      <Typography variant="h6" color="error">Error loading projects: {error}</Typography>
                    ) : (
                      <Table size="large">
                        <TableHead>
                        <TableRow>
                            <TableCell align="left" sx={{ fontWeight: 'bold' }}>Project ID</TableCell>
                            <TableCell align="left" sx={{ fontWeight: 'bold' }}>Date Created</TableCell>
                            <TableCell align="left" sx={{ fontWeight: 'bold' }}>Name</TableCell>
                            <TableCell align="left" sx={{ fontWeight: 'bold' }}>Status</TableCell>
                            <TableCell align="right" sx={{ fontWeight: 'bold' }}>View Datasets</TableCell>
                            <TableCell align="right" sx={{ fontWeight: 'bold' }}>View Patients</TableCell>
                        </TableRow>
                        </TableHead>
                        <TableBody>
                        {projects.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((project) => (
                            <TableRow key={project.id}>
                            <TableCell align="left">{project.id}</TableCell>
                            <TableCell align="left">{new Date(project.created_at).toLocaleDateString()}</TableCell>
                            <TableCell align="left">{project.name}</TableCell>
                            <TableCell align="left">{project.status}</TableCell>
                            <TableCell align="right">
                                <Button
                                variant="contained"
                                color="primary"
                                size="small"
                                onClick={() => handleViewDatasets(project.id)}
                                sx={{ textTransform: 'none', padding: '5px 10px', fontSize: '10px' }}
                                >
                                View Datasets
                                </Button>
                            </TableCell>
                            <TableCell align="right">
                                <Button
                                variant="contained"
                                color="secondary"
                                size="small"
                                onClick={() => handleViewPatients(project.id)}
                                sx={{ textTransform: 'none', padding: '5px 10px', fontSize: '10px' }}
                                >
                                View Patients
                                </Button>
                            </TableCell>
                            </TableRow>
                        ))}
                        </TableBody>
                      </Table>
                    )}
                    <TablePagination
                      rowsPerPageOptions={[10, 25, 50]}
                      component="div"
                      count={projects.length}
                      rowsPerPage={rowsPerPage}
                      page={page}
                      onPageChange={handleChangePage}
                      onRowsPerPageChange={handleChangeRowsPerPage}
                    />
                  </React.Fragment>
                </Paper>
              </Grid>
            </Grid>
            <Footer />
          </Container>
        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

<file path="src/components/Dataset/SingleDataset.jsx">
import * as React from 'react';
import { styled, createTheme, ThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import MuiDrawer from '@mui/material/Drawer';
import Box from '@mui/material/Box';
import { Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';
import MuiAppBar from '@mui/material/AppBar';
import Toolbar from '@mui/material/Toolbar';
import List from '@mui/material/List';
import Typography from '@mui/material/Typography';
import Divider from '@mui/material/Divider';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Grid from '@mui/material/Grid';
import Paper from '@mui/material/Paper';
import Link from '@mui/material/Link';
import MenuIcon from '@mui/icons-material/Menu';
import ChevronLeftIcon from '@mui/icons-material/ChevronLeft';
import NotificationsIcon from '@mui/icons-material/Notifications';
import { useNavigate } from 'react-router-dom';
import { mainListItems, secondaryListItems } from '../../components/Dashboard/listItems';
import Footer from '../../components/Footer';
import WehiLogo from '../../assets/logos/wehi-logo.png';
import MelbUniLogo from '../../assets/logos/unimelb-logo.png';
import Tooltip from '@mui/material/Tooltip';

import { useDispatch } from 'react-redux';
import { logout } from '../../actions/authActions'
import dataset from '../../assets/testjson/output.json';


// Generate Order Data, this will be replaced with data from the backend
function createData(id, dId, date, name, source) {
    return { id, dId, date, name, source};
}

const rows = [
    createData(5, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(2, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(10, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(1, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(12, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(7, 'GENE10002', '16 Jun, 2024', 'BioSpectrum', 'cBioPortal'),
    createData(14, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(0, 'BIOL10001', '16 Aug, 2024', 'GeneFlow', 'University of Melbourne'),
    createData(9, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(11, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(6, 'GENE10001', '26 Jun, 2024', 'VitalMetrics', 'University of Melbourne'),
    createData(3, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
    createData(4, 'GENE10003', '15 Apr, 2024', 'GenomicAtlas', 'USYD'),
    createData(8, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
    createData(13, 'BIOL10006', '16 May, 2024', 'CellBase', 'WEHI'),
  ];
  
  function preventDefault(event) {
    event.preventDefault();
  }

function Copyright(props) {
  return (
    <Typography variant="body2" color="text.secondary" align="center" {...props}>
      {'Copyright © '}
      <Link color="inherit" href="https://mui.com/">
        Your Website
      </Link>{' '}
      {new Date().getFullYear()}
      {'.'}
    </Typography>
  );
}

const drawerWidth = 240;

const AppBar = styled(MuiAppBar, {
  shouldForwardProp: (prop) => prop !== 'open',
})(({ theme, open }) => ({
  zIndex: theme.zIndex.drawer + 1,
  transition: theme.transitions.create(['width', 'margin'], {
    easing: theme.transitions.easing.sharp,
    duration: theme.transitions.duration.leavingScreen,
  }),
  backgroundColor: '#00274D', // Change the background color
  ...(open && {
    marginLeft: drawerWidth,
    width: `calc(100% - ${drawerWidth}px)`,
    transition: theme.transitions.create(['width', 'margin'], {
      easing: theme.transitions.easing.sharp,
      duration: theme.transitions.duration.enteringScreen,
    }),
  }),
}));

const Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(
  ({ theme, open }) => ({
    '& .MuiDrawer-paper': {
      position: 'relative',
      whiteSpace: 'nowrap',
      width: drawerWidth,
      transition: theme.transitions.create('width', {
        easing: theme.transitions.easing.sharp,
        duration: theme.transitions.duration.enteringScreen,
      }),
      boxSizing: 'border-box',
      ...(!open && {
        overflowX: 'hidden',
        transition: theme.transitions.create('width', {
          easing: theme.transitions.easing.sharp,
          duration: theme.transitions.duration.leavingScreen,
        }),
        width: theme.spacing(7.5),
        [theme.breakpoints.up('sm')]: {
          width: theme.spacing(7),
        },
      }),
    },
  }),
);

// TODO remove, this demo shouldn't need to reset the theme.
const defaultTheme = createTheme();

export default function AllDatasets() {
    
  const [open, setOpen] = React.useState(false);
  const toggleDrawer = () => {
    setOpen(!open);
  };
  
  const rawDataLocation = dataset.data.location; // Extract base path
  const rawFiles = dataset.data.files.raw.map(file => file.directory); // Extract file paths without extra quotes
  
  // Format as Python code
  const pythonCode = `import os\n\nbase_path = '${rawDataLocation}'\nraw_file_array = [\n  ${rawFiles.map(file => `'${file}'`).join(",\n  ")}\n]\n`;
  
  const rCode = `
      # Define the base path
      base_path <- "${rawDataLocation}"
  
      # Define the raw file array
      raw_file_array <- c(
        ${rawFiles.map(file => `"${file}"`).join(",\n  ")}
      )
  
      # Combine paths
      file_paths <- paste(base_path, raw_file_array, sep = "")
  
      # Print the file paths
      print(file_paths)
      `;
  


  // Copy function Python
  const handleCopyPython = () => {
    navigator.clipboard.writeText(pythonCode)
      .then(() => alert("Python snippet copied to clipboard!"))
      .catch(err => console.error("Failed to copy:", err));
  };

  // Copy function R
  const handleCopyR = () => {
    navigator.clipboard.writeText(rCode)
      .then(() => alert("R snippet copied to clipboard!"))
      .catch(err => console.error("Failed to copy:", err));
  };

  // Update Data Registry button
  const handleUpdateRegistry = () => {

  }

  const dispatch = useDispatch();
  const navigate = useNavigate();

  const handleLogout = () => {
    dispatch(logout()); // Dispatch the logout action
    navigate('/login'); // Redirect to the login page
  };

  // Function to open the dialog
  const handleOpenPop = () => {
    setOpen(true);
  };

  // Function to close the dialog
  const handleClosePop = () => {
    setOpen(false);
  };

  return (
    <ThemeProvider theme={defaultTheme}>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <AppBar position="absolute" open={open}>
          <Toolbar
            sx={{
              pr: '24px', // keep right padding when drawer closed
            }}
          >
            <IconButton
              edge="start"
              color="inherit"
              aria-label="open drawer"
              onClick={toggleDrawer}
              sx={{
                marginRight: '36px',
                ...(open && { display: 'none' }),
              }}
            >
              <MenuIcon />
            </IconButton>
            <Typography
              component="h1"
              variant="h6"
              color="inherit"
              noWrap
              sx={{ flexGrow: 1 }}
            >
              TUFT Data Environment - Data Registry
            </Typography>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={WehiLogo} alt="WEHI" width="90" height="30" 
                   style={{marginLeft: '10px', marginRight: '10px' }} />
            </div>
            <div style={{ display: 'flex', 
                          alignItems: 'center',
                          backgroundColor: 'rgba(255, 255, 255, 1)' ,
                          padding: '5px',
                          borderRadius: '5px',
                          alignSelf: 'center',
                          marginRight: '10px'
                          }}>
              <img src={MelbUniLogo} alt="Melbourne University" width="30" height="30"
                   style={{marginLeft: '2px', marginRight: '2px' }} />
            </div>
            <Box sx={{ marginRight: '10px' }}> {/* Adjust the marginLeft value as needed */}
              <Button
               variant="contained"
               color="warning"
               onClick={handleLogout}
               sx={{ textTransform: 'none',
                     padding: '5px 20px', // Increase padding for a bigger button
                     fontSize: '16px', // Increase font size
                     backgroundColor: '#00274D', // Choose a slightly darker or lighter shade of blue
                    '&:hover': {
                    backgroundColor: '#0056b3', // Darker shade for hover state
                    }, 
                  }}
              >
                Log Out
              </Button>
            </Box>
            <IconButton color="inherit">
              <NotificationsIcon />
            </IconButton>
          </Toolbar>
        </AppBar>
        <Drawer variant="permanent" open={open}>
          <Toolbar
            sx={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'flex-end',
              px: [1],
            }}
          >
            <IconButton onClick={toggleDrawer}>
              <ChevronLeftIcon />
            </IconButton>
          </Toolbar>
          <Divider />
          <List component="nav">
            {mainListItems()}
            <Divider sx={{ my: 1 }} />
            {secondaryListItems()}
          </List>
        </Drawer>
        <Box
          component="main"
          sx={{
            backgroundColor: (theme) =>
              theme.palette.mode === 'light'
                ? theme.palette.grey[100]
                : theme.palette.grey[900],
            flexGrow: 1,
            height: '100vh',
            overflow: 'auto',
          }}
        >
          <Toolbar />
          <Container maxWidth="lg" sx={{ mt: 4, mb: 4 }}>
                <Grid container spacing={3}>
                    
                    <Grid item xs={8} sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
                    <Paper sx={{ p: 4, flexGrow: 1 }}>
                        <Typography variant="h5" gutterBottom>
                          Whole-exome sequencing of Lung Cancer Tumour-Normal pairs
                        </Typography>
                        <Typography variant="h6" sx={{ color: 'gray', lineHeight: '2' }} gutterBottom>
                          TDE0001
                        </Typography>
                        <Typography variant="body1">
                          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vehicula, mauris eget ullamcorper pellentesque, risus dolor consequat ligula, a dictum lacus odio at odio. Integer cursus dui at libero hendrerit, vitae auctor metus tempus. Duis facilisis justo ut orci varius, at molestie metus sollicitudin. Nunc accumsan, lorem eget luctus euismod, metus augue facilisis libero, eget egestas lectus libero eget magna.
                        </Typography>
                        <Button variant='outlined' sx={{ mr: 2, mt: 7 }}>
                          Update Data Registry
                        </Button>
                    </Paper>
                    </Grid>

                    <Grid item xs={4} sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>
                    <Paper sx={{ p: 4, flexGrow: 1 }}>
                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Raw Data</Typography>

                        {/* use the following line of code if there is an existing json file for TDE0001 */}
                        {/*<Typography variant="body2">Located: WEHI Milton {dataset.data.location}</Typography> */}

                        <Typography variant="body2">Located: WEHI Milton /vast/projects/TDE/TDE0001</Typography>

                        <Divider sx={{ my: 2 }} />
                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Copy code for raw data</Typography>

                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={handleCopyPython}>WEHI Jupyter Notebook</Button>

                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={handleOpenPop}>SLURM pre-processing</Button>
                        {/* Dialog (Popup) */}
                        <Dialog open={open} onClose={handleClosePop} maxWidth="sm" fullWidth >
                          
                          <DialogContent>
                            <Paper elevation={3} sx={{ p: 3, borderRadius: 2 }}>
                            <DialogTitle sx={{ fontWeight: 'bold', textAlign: 'center' }}>Run SLURM pre-processing</DialogTitle>
                              <Typography variant="body1"><b>Run number:</b> TDE0005-002</Typography>
                              <Typography variant="body1"><b>Pre-processing script:</b> /vast/projects/TDE/scripts/cfDNA_pre-processing.sh</Typography>
                              <Typography variant="body1"><b>Directory:</b> /vast/projects/TDE/TDE0005</Typography>
                              <Typography variant="body1"><b>Configuration file:</b> /vast/projects/TDE/TDE0005/pre-processing/TDE0005-002.ini</Typography>
                              <Typography variant="body1"><b>Output directory:</b> /vast/projects/TDE/TDE0005/processed/TDE0005-002/</Typography>
                              <Typography variant="body1"><b>Log file:</b> /vast/projects/TDE/TDE0005/processed/TDE0005-002/out.log</Typography>
                            </Paper>
                          </DialogContent>

                          {/* Close Button */}
                          <DialogActions>
                            <Button onClick={handleClosePop} variant="contained" color="error">Close</Button>
                          </DialogActions>
                        </Dialog>
                      
                        <Button variant="outlined" sx={{ mt: 1 }} onClick={handleCopyR}>WEHI RStudio</Button>
                        <Divider sx={{ my: 2 }} />

                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Data Portals</Typography>

                        {/* Link to Omero data portal - the '2' in the link is the project ID in Omero */}
                        {/* This is for example to show how it links to Omero only, TDE0001 actually uses cBioPortal since it's genomic data. */}
                        <Tooltip title="Omero">
                          <Button variant="outlined" sx={{ mr: 2, mt: 1 }} component={Link} href="http://118.138.242.23:4080/webclient/?show=dataset-2" target="_blank">
                            Omero
                          </Button>
                        </Tooltip>
                        <Divider sx={{ my: 2 }} />

                        <Typography variant="h6" sx={{ fontWeight: 'bold' }}>Other views</Typography>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/dashboard')}>All Samples View</Button>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/datasets')}>All Datasets View</Button>
                        <Button variant="outlined" sx={{ mr: 2, mt: 1 }} onClick={() => navigate('/patients')}>All Samples Summary</Button>

                        {/* hard coded */}
                        <Button variant="outlined" sx={{ mt: 1 }} onClick={() => navigate('/dataset/details/BIOL10001')}>Files for this dataset</Button>
                    </Paper>
                    </Grid>
                </Grid>
                <Footer />
            </Container>

        </Box>
      </Box>
    </ThemeProvider>
  );
}
</file>

</files>
